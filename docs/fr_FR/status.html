<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link rel="STYLESHEET" type="text/css" href="pgadmin3.css">
<title>État du serveur</title>
</head>

<body>

<h3>État du serveur</h3>

<center><img src="images/status.png"></center>

<p>
La fenêtre d'état du serveur affiche les connexions en cours pour chaque base
de données, l'utilisateur qui est connecté, l'identifiant du processus,
l'adresse du client et l'heure de démarrage (sur PostgreSQL 8.1 et ultérieure),
la requête en cours d'exécution (s'il y en a une) et la date et heure du début
de l'exécution de la requête (si approprié) sur PostgreSQL 7.4 et ultérieures
dans l'onglet Statut.
</p>
<p>
Le bouton Annuler permet d'annuler la requête en cours d'exécution sur un moteur
particulier. Terminer arrêtera le processus serveur. <B>Attention&nbsp;:</B> ces
deux fonctions doivent être utilisées avec précaution car ils vont interrompre
le travail de l'utilisateur de façon abrupte. En particulier, la fonction
Terminer pourrait perturber le fonctionnement du serveur complet, l'obliger à
redémarrer le service complet et donc interrompre toutes les connexions
utilisateurs. Vous devez utiliser cette fonction seulement si le serveur est
dans un sérieux mauvais état à cause d'un processus serveur que vous ne pouvez
pas contrôler autrement.
</p>
<p>
L'onglet Verrous affiche les verrous détenus dans le gestionnaire de verrous de
PostgreSQL. Cette information peut être utile pour déboguer ou tracer les
verrous mortels de votre serveur. Toutes les informations ne sont pas
nécessairement affichées pour chaque verrou. En particulier, le nom de la
relation peut être affiché sous la forme d'un OID au lieu de son nom si cette
relation fait partie d'une autre base de données que celle en cours de
surveillance.
</p>
<p>
Le bouton Annuler permet d'annuler la requête en cours d'exécution sur un
processus serveur. Terminer arrêtera le processus serveur.
<B>Attention&nbsp;:</B> ces deux fonctions doivent être utilisées avec
précaution car ils vont interrompre le travail de l'utilisateur de façon
abrupte. En particulier, la fonction Terminer pourrait perturber le
fonctionnement du serveur complet, l'obliger à redémarrer le service complet
et donc interrompre toutes les connexions utilisateurs. Vous devez utiliser
cette fonction seulement si le serveur est dans un sérieux mauvais état à cause
d'un processus serveur que vous ne pouvez pas contrôler autrement.
</p>
<p>
<b>Note&nbsp;:</b> quand la vue pg_locks est accédée (ce qui est le cas quand
cette fenêtre est ouverte), les structures de données du gestionnaire interne
de verrous sont momentanément verrouillées et une copie est faite pour
l'affichage sur la fenêtre. Ceci assure que la fenêtre affiche un ensemble
cohérent de résultats sans bloquer plus longtemps que nécessaire les opérations
normales du gestionnaire de verrous. Néanmoins, il pourrait y avoir un impact
sur les performances des bases de données si cette vue est lue fréquemment.
</p>
<p>
Sur un serveur PostgreSQL version 8.1 ou ultérieure, l'onglet Transaction vous
permet de visualiser les transactions préparées. Ces dernières sont un aspect
de la technologie Two Phase Commit (2PC), utilisée dans les gestionnaires
de transactions distribuées. Habituellement, les transactions préparées sont
gérées par le gestionnaire de transactions. En cas d'échec, il pourrait être
nécessaire de valider ou annuler manuellement une transaction&nbsp;; vous pouvez
utiliser les boutons « Commit » ou « Rollback » pour cela.
</p>
<p>
L'onglet Logfile affiche les journaux applicatifs du serveur si c'est configuré
correctement dans le fichier postgresql.conf (redirect_stderr = true ou logging_collector = true, 
log_destination='stderr' et log_filename='postgresql-%Y-%m-%d_%H%M%S.log'
sur PostgreSQL ou 'enterprisedb-%Y-%m-%d_%H%M%S.log' sur Advanced 
Server d'EnterpriseDB). 
pgAdmin récupèrera un horodatage dans le journal applicatif sur une colonne
séparée à condition que log_line_prefix soit configuré en adéquation. Nous
recommandons l'utilisation de '%t:' comme format car des formats plus compliqués
pourraient ne pas être interprétables correctement.
</p>
<p>
La liste déroulante vous permet de sélectionner les anciens journaux applicatifs
ou celui en cours d'utilisation. Si « current » est sélectionné, pgAdmin détectera
correctement la rotation et continuera de les afficher.
</p>
<p>
Le bouton Rotation forcera le serveur à faire un changement de journal
applicatif. Cette fonction n'est pas implantée sur les serveurs 8.0&nbsp;; si
vous pensez que c'est important pour vous, merci de nous contacter.
</p>
<p>
Merci de noter que l'affichage d'un journal applicatif requiert des <A
href="extend.html">fonctions supplémentaires</A> à charger sur le serveur.
Elles sont disponibles seulement pour les serveurs 8.x.
</p>
<p>
Pour rafraîchir l'affichage, cliquez sur le bouton <i>Actualiser</i>. L'affichage
sera automatiquement rafraichie en se basant sur l'interval de rafraichissement
indiqué. Notez que vous disposez d'un taux de rafraichissement par onglet.
</p>
<p>
Vous pouvez cacher un onglet en cliquant sur son bouton de fermeture ou en
cliquant sur l'élément associé du menu Affichage.
</p>
<p>
Vous pouvez aussi copier quelques lignes dans les listes des onglets.
Sélectionnez les listes que vous voulez copier, puis cliquez sur le bouton
Copier de la barre d'outil.
</p>

</body>

</html>
