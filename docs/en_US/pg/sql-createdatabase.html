<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>CREATE DATABASE</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 7.4beta1 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="SQL Commands"
HREF="sql-commands.html"><LINK
REL="PREVIOUS"
TITLE="CREATE CONVERSION"
HREF="sql-createconversion.html"><LINK
REL="NEXT"
TITLE="CREATE DOMAIN"
HREF="sql-createdomain.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
NAME="creation"
CONTENT="2003-08-05T05:04:12"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL 7.4beta1 Documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="sql-createconversion.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="sql-createdomain.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SQL-CREATEDATABASE"
></A
>CREATE DATABASE</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN38024"
></A
><H2
>Name</H2
>CREATE DATABASE&nbsp;--&nbsp;create a new database</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN38027"
></A
><H2
>Synopsis</H2
><PRE
CLASS="SYNOPSIS"
>CREATE DATABASE <VAR
CLASS="REPLACEABLE"
>name</VAR
>
    [ [ WITH ] [ OWNER [=] <VAR
CLASS="REPLACEABLE"
>dbowner</VAR
> ]
           [ LOCATION [=] '<VAR
CLASS="REPLACEABLE"
>dbpath</VAR
>' ]
           [ TEMPLATE [=] <VAR
CLASS="REPLACEABLE"
>template</VAR
> ]
           [ ENCODING [=] <VAR
CLASS="REPLACEABLE"
>encoding</VAR
> ] ]</PRE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN38034"
></A
><H2
>Description</H2
><P
>   <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
> creates a new
   <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> database.
  </P
><P
>   Normally, the creator becomes the owner of the new database.
   Superusers can create databases owned by other users using the
   <VAR
CLASS="LITERAL"
>OWNER</VAR
> clause. They can even create databases owned by
   users with no special privileges. Non-superusers with <VAR
CLASS="LITERAL"
>CREATEDB</VAR
>
   privilege can only create databases owned by themselves.
  </P
><P
>   An alternative location can be specified in order to,
   for example, store the database on a different disk.
   The path must have been prepared with the 
   <A
HREF="app-initlocation.html"
><I
><I
>initlocation</I
></I
></A
>
   command.
  </P
><P
>   If the path name does not contain a slash, it is interpreted
   as an environment variable name, which must be known to the
   server process. This way the database administrator can
   exercise control over locations in which databases can be created.
   (A customary choice is, e.g., <TT
CLASS="ENVAR"
>PGDATA2</TT
>.)
   If the server is compiled with <VAR
CLASS="LITERAL"
>ALLOW_ABSOLUTE_DBPATHS</VAR
>
   (not so by default), absolute path names, as identified by
   a leading slash
   (e.g., <TT
CLASS="FILENAME"
>/usr/local/pgsql/data</TT
>),
   are allowed as well.
  </P
><P
>   By default, the new database will be created by cloning the standard
   system database <VAR
CLASS="LITERAL"
>template1</VAR
>.  A different template can be
   specified by writing <VAR
CLASS="LITERAL"
>TEMPLATE
   <VAR
CLASS="REPLACEABLE"
>name</VAR
></VAR
>.  In particular,
   by writing <VAR
CLASS="LITERAL"
>TEMPLATE template0</VAR
>, you can create a virgin
   database containing only the standard objects predefined by your
   version of <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>.  This is useful
   if you wish to avoid copying
   any installation-local objects that may have been added to
   <VAR
CLASS="LITERAL"
>template1</VAR
>. 
  </P
><P
>   The optional encoding parameter allows selection of the database
   encoding.  When not specified, it defaults to the encoding used by
   the selected template database.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN38056"
></A
><H2
>Parameter</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><VAR
CLASS="REPLACEABLE"
>name</VAR
></DT
><DD
><P
>	The name of a database to create.
       </P
></DD
><DT
><VAR
CLASS="REPLACEABLE"
>dbowner</VAR
></DT
><DD
><P
>        The name of the database user who will own the new database,
	or <VAR
CLASS="LITERAL"
>DEFAULT</VAR
> to use the default (namely, the
	user executing the command).
       </P
></DD
><DT
><VAR
CLASS="REPLACEABLE"
>dbpath</VAR
></DT
><DD
><P
>	An alternate file-system location in which to store the new database,
	specified as a string literal;
	or <VAR
CLASS="LITERAL"
>DEFAULT</VAR
> to use the default location.
       </P
></DD
><DT
><VAR
CLASS="REPLACEABLE"
>template</VAR
></DT
><DD
><P
>        The name of the template from which to create the new database,
	or <VAR
CLASS="LITERAL"
>DEFAULT</VAR
> to use the default template
	(<VAR
CLASS="LITERAL"
>template1</VAR
>).
       </P
></DD
><DT
><VAR
CLASS="REPLACEABLE"
>encoding</VAR
></DT
><DD
><P
>        Character set encoding to use in the new database.  Specify
	a string constant (e.g., <VAR
CLASS="LITERAL"
>'SQL_ASCII'</VAR
>),
	or an integer encoding number, or <VAR
CLASS="LITERAL"
>DEFAULT</VAR
>
	to use the default encoding.
       </P
></DD
></DL
></DIV
><P
>   Optional parameters can be written in any order, not only the order
   illustrated above.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN38091"
></A
><H2
>Diagnostics</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SAMP
CLASS="COMPUTEROUTPUT"
>CREATE DATABASE</SAMP
></DT
><DD
><P
>	Message returned if the database was successfully created.
       </P
></DD
><DT
><SAMP
CLASS="COMPUTEROUTPUT"
>ERROR:  user '<VAR
CLASS="REPLACEABLE"
>username</VAR
>' is not allowed to create/drop databases</SAMP
></DT
><DD
><P
>        You must have the special <VAR
CLASS="LITERAL"
>CREATEDB</VAR
> privilege to create databases.
        See <A
HREF="sql-createuser.html"
><I
>CREATE USER</I
></A
>.
       </P
></DD
><DT
><SAMP
CLASS="COMPUTEROUTPUT"
>ERROR:  createdb: database "<VAR
CLASS="REPLACEABLE"
>name</VAR
>" already exists</SAMP
></DT
><DD
><P
>	This occurs if a database with the specified name already
	exists.
       </P
></DD
><DT
><SAMP
CLASS="COMPUTEROUTPUT"
>ERROR:  database path may not contain single quotes</SAMP
></DT
><DD
><P
>	The database location
        <VAR
CLASS="REPLACEABLE"
>dbpath</VAR
> cannot contain
        single quotes. This is required so that the shell commands that
        create the database directory can execute safely.
       </P
></DD
><DT
><SAMP
CLASS="COMPUTEROUTPUT"
>ERROR:  CREATE DATABASE: may not be called in a transaction block</SAMP
></DT
><DD
><P
>        If you have an explicit transaction block in progress you cannot call
        <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
>. You must finish the transaction first.
       </P
></DD
><DT
><SAMP
CLASS="COMPUTEROUTPUT"
>ERROR:  Unable to create database directory '<VAR
CLASS="REPLACEABLE"
>path</VAR
>'.</SAMP
><BR><SAMP
CLASS="COMPUTEROUTPUT"
>ERROR:  Could not initialize database directory.</SAMP
></DT
><DD
><P
>        These are most likely related to insufficient permissions on the data
        directory, a full disk, or other file system problems. The user under
        which the database server is running must have access to the location.
       </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN38133"
></A
><H2
>Notes</H2
><P
>    Use <A
HREF="sql-dropdatabase.html"
><I
>DROP DATABASE</I
></A
> to remove a database.
   </P
><P
>    The program <A
HREF="app-createdb.html"
><I
><I
>createdb</I
></I
></A
> is a
    wrapper program around this command, provided for convenience.
   </P
><P
>   There are security issues involved with using alternate database
   locations specified with absolute path names.  See <A
HREF="manage-ag-alternate-locs.html"
>Section 18.5</A
> for more information.
  </P
><P
>   Although it is possible to copy a database other than <VAR
CLASS="LITERAL"
>template1</VAR
>
   by specifying its name as the template, this is not (yet) intended as
   a general-purpose <SPAN
CLASS="QUOTE"
>"<TT
CLASS="COMMAND"
>COPY DATABASE</TT
>"</SPAN
> facility.
   We recommend that databases used as templates be treated as read-only.
   See <A
HREF="manage-ag-templatedbs.html"
>Section 18.3</A
> for more information.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN38146"
></A
><H2
>Examples</H2
><P
>   To create a new database:

</P><PRE
CLASS="PROGRAMLISTING"
>CREATE DATABASE lusiadas;</PRE
><P>
  </P
><P
>   To create a new database in an alternate area
   <TT
CLASS="FILENAME"
>~/private_db</TT
>, execute the following from the
   shell:

</P><PRE
CLASS="PROGRAMLISTING"
>mkdir private_db
initlocation ~/private_db</PRE
><P>

   Then execute the following from within a
   <SPAN
CLASS="APPLICATION"
>psql</SPAN
> session:

</P><PRE
CLASS="PROGRAMLISTING"
>CREATE DATABASE elsewhere WITH LOCATION '/home/olly/private_db';</PRE
><P>
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN38155"
></A
><H2
>Compatibility</H2
><P
>   There is no <TT
CLASS="COMMAND"
>CREATE DATABASE</TT
> statement in the SQL
   standard.  Databases are equivalent to catalogs, whose creation is
   implementation-defined.
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-createconversion.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-createdomain.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>CREATE CONVERSION</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql-commands.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>CREATE DOMAIN</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>