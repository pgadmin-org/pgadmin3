<HTML
><HEAD
><TITLE
>Character Types</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.73
"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 7.3.3 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="Data Types"
HREF="datatype.html"><LINK
REL="PREVIOUS"
TITLE="Monetary Type"
HREF="datatype-money.html"><LINK
REL="NEXT"
TITLE="Binary Strings"
HREF="datatype-binary.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
NAME="creation"
CONTENT="2003-05-24T21:33:34"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PostgreSQL 7.3.3 Documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="datatype-money.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Data Types</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="datatype-binary.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DATATYPE-CHARACTER"
>5.3. Character Types</A
></H1
><A
NAME="AEN3369"
></A
><A
NAME="AEN3372"
></A
><A
NAME="AEN3375"
></A
><DIV
CLASS="TABLE"
><A
NAME="DATATYPE-CHARACTER-TABLE"
></A
><P
><B
>Table 5-4. Character Types</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Type name</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>character varying(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>, <TT
CLASS="TYPE"
>varchar(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>variable-length with limit</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>character(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>, <TT
CLASS="TYPE"
>char(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>fixed-length, blank padded</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>variable unlimited length</TD
></TR
></TBODY
></TABLE
></DIV
><P
>    <A
HREF="datatype-character.html#DATATYPE-CHARACTER-TABLE"
>Table 5-4</A
> shows the
    general-purpose character types available in
    <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>.
   </P
><P
>    <SPAN
CLASS="ACRONYM"
>SQL</SPAN
> defines two primary character types:
    <TT
CLASS="TYPE"
>character varying(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
> and
    <TT
CLASS="TYPE"
>character(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>, where <TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>
    is a positive integer.  Both of these types can store strings up to
    <TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
> characters in length.  An attempt to store a
    longer string into a column of these types will result in an
    error, unless the excess characters are all spaces, in which case
    the string will be truncated to the maximum length. (This somewhat
    bizarre exception is required by the <SPAN
CLASS="ACRONYM"
>SQL</SPAN
>
    standard.) If the string to be stored is shorter than the declared
    length, values of type <TT
CLASS="TYPE"
>character</TT
> will be space-padded;
    values of type <TT
CLASS="TYPE"
>character varying</TT
> will simply store the
    shorter
    string.
   </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>     If one explicitly casts a value to <TT
CLASS="TYPE"
>character
     varying(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
> or
     <TT
CLASS="TYPE"
>character(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>, then an over-length
     value will be truncated to <TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
> characters without
     raising an error. (This too is required by the
     <SPAN
CLASS="ACRONYM"
>SQL</SPAN
> standard.)
    </P
></BLOCKQUOTE
></DIV
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>     Prior to <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 7.2, strings that were too long were
     always truncated without raising an error, in either explicit or
     implicit casting contexts.
    </P
></BLOCKQUOTE
></DIV
><P
>    The notations <TT
CLASS="TYPE"
>varchar(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
> and
    <TT
CLASS="TYPE"
>char(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
> are aliases for <TT
CLASS="TYPE"
>character
    varying(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
> and
    <TT
CLASS="TYPE"
>character(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>, respectively.
    <TT
CLASS="TYPE"
>character</TT
> without length specifier is equivalent to
    <TT
CLASS="TYPE"
>character(1)</TT
>; if <TT
CLASS="TYPE"
>character varying</TT
> is used
    without length specifier, the type accepts strings of any size. The
    latter is a <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> extension.
   </P
><P
>    In addition, <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> supports the
    more general <TT
CLASS="TYPE"
>text</TT
> type, which stores strings of any
    length.  Unlike <TT
CLASS="TYPE"
>character varying</TT
>, <TT
CLASS="TYPE"
>text</TT
>
    does not require an explicit declared upper limit on the size of
    the string.  Although the type <TT
CLASS="TYPE"
>text</TT
> is not in the
    <SPAN
CLASS="ACRONYM"
>SQL</SPAN
> standard, many other RDBMS packages have it
    as well.
   </P
><P
>    The storage requirement for data of these types is 4 bytes plus the
    actual string, and in case of <TT
CLASS="TYPE"
>character</TT
> plus the
    padding. Long strings are compressed by the system automatically, so
    the physical requirement on disk may be less. Long values are also
    stored in background tables so they don't interfere with rapid
    access to the shorter column values. In any case, the longest
    possible character string that can be stored is about 1 GB. (The
    maximum value that will be allowed for <TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
> in the data
    type declaration is less than that. It wouldn't be very useful to
    change this because with multibyte character encodings the number of
    characters and bytes can be quite different anyway. If you desire to
    store long strings with no specific upper limit, use
    <TT
CLASS="TYPE"
>text</TT
> or <TT
CLASS="TYPE"
>character varying</TT
> without a length
    specifier, rather than making up an arbitrary length limit.)
   </P
><DIV
CLASS="TIP"
><BLOCKQUOTE
CLASS="TIP"
><P
><B
>Tip: </B
>     There are no performance differences between these three types,
     apart from the increased storage size when using the blank-padded
     type.
    </P
></BLOCKQUOTE
></DIV
><P
>    Refer to <A
HREF="sql-syntax.html#SQL-SYNTAX-STRINGS"
>Section 1.1.2.1</A
> for information about
    the syntax of string literals, and to <A
HREF="functions.html"
>Chapter 6</A
>
    for information about available operators and functions.
   </P
><DIV
CLASS="EXAMPLE"
><A
NAME="AEN3459"
></A
><P
><B
>Example 5-1. Using the character types</B
></P
><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE test1 (a character(4));
INSERT INTO test1 VALUES ('ok');
SELECT a, char_length(a) FROM test1; -- <A
NAME="CO.DATATYPE-CHAR"
><B
>(1)</B
></A
>
<TT
CLASS="COMPUTEROUTPUT"
>  a   | char_length
------+-------------
 ok   |           4</TT
>

CREATE TABLE test2 (b varchar(5));
INSERT INTO test2 VALUES ('ok');
INSERT INTO test2 VALUES ('good      ');
INSERT INTO test2 VALUES ('too long');
<TT
CLASS="COMPUTEROUTPUT"
>ERROR:  value too long for type character varying(5)</TT
>
INSERT INTO test2 VALUES ('too long'::varchar(5)); -- explicit truncation
SELECT b, char_length(b) FROM test2;
<TT
CLASS="COMPUTEROUTPUT"
>   b   | char_length
-------+-------------
 ok    |           2
 good  |           5
 too l |           5</TT
></PRE
><DIV
CLASS="CALLOUTLIST"
><DL
COMPACT="COMPACT"
><DT
><A
HREF="datatype-character.html#CO.DATATYPE-CHAR"
><B
>(1)</B
></A
></DT
><DD
>       The <TT
CLASS="FUNCTION"
>char_length</TT
> function is discussed in
       <A
HREF="functions-string.html"
>Section 6.4</A
>.
      </DD
></DL
></DIV
></DIV
><P
>    There are two other fixed-length character types in
    <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>, shown in <A
HREF="datatype-character.html#DATATYPE-CHARACTER-SPECIAL-TABLE"
>Table 5-5</A
>. The <TT
CLASS="TYPE"
>name</TT
>
    type exists <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>only</I
></SPAN
> for storage of internal
    catalog names and is not intended for use by the general user. Its
    length is currently defined as 64 bytes (63 usable characters plus
    terminator) but should be referenced using the constant
    <TT
CLASS="SYMBOL"
>NAMEDATALEN</TT
>. The length is set at compile time (and
    is therefore adjustable for special uses); the default maximum
    length may change in a future release. The type <TT
CLASS="TYPE"
>"char"</TT
>
    (note the quotes) is different from <TT
CLASS="TYPE"
>char(1)</TT
> in that it
    only uses one byte of storage. It is internally used in the system
    catalogs as a poor-man's enumeration type.
   </P
><DIV
CLASS="TABLE"
><A
NAME="DATATYPE-CHARACTER-SPECIAL-TABLE"
></A
><P
><B
>Table 5-5. Specialty Character Types</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Type Name</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Storage</TH
><TH
ALIGN="LEFT"
VALIGN="TOP"
>Description</TH
></TR
></THEAD
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>"char"</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>1 byte</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>single character internal type</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="TYPE"
>name</TT
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>64 bytes</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>sixty-three character internal type</TD
></TR
></TBODY
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="datatype-money.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="datatype-binary.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Monetary Type</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="datatype.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Binary Strings</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>