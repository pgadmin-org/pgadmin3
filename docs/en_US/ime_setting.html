<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link rel="STYLESHEET" type="text/css" href="pgadmin3.css">
<title>IME(Input Method Editor) kinput2+canna Guide (FreeBSD)</title>
</head>

<body>

<H3>IME(Input Method Editor) kinput2+canna Guide (FreeBSD)</H3>

<p>1) Configure GTK2 to enable Xinput.</p>

<p>Configure GTK2 with the "--with-xinput=yes" option becore compilation.</p>

<p>Confirmation of setting can be seen as follows.
<br><br>
<i>bsd5# ls /usr/X11R6/lib/gtk-2.0/2.2.0/immodules/*
/usr/X11R6/lib/gtk-2.0/2.2.0/immodules/im-xim.so<br>
...<br>
bsd5# vi /usr/X11R6/etc/gtk-2.0/gtk.immodules<br>
...<br>
"/usr/X11R6/lib/gtk-2.0/2.2.0/immodules/im-xim.so"<br>
"xim" "X Input Method" "gtk+" "NONE/lib/locale" "ko:ja:zh"<br>
...<br>
</p>

<p>Japanese(ja) should handle this configuration with XIM.</p>

<p>2) When Canna is used.</p>

<p>I like canna of the kanji change server which can be built from the ports collection.
Canna requires the use of Unix domain sockets. Check for the existance of 
/usr/local/etc/rc.d/canna.sh to ensure canna will start at boot.</p>

<p>Confirm canna is running:<br>
<i>/usr/local/sbin/cannaserver -u bin</i>
</p>

<p>3) The use of kinput2.</p>

<p>Make this from ports collection.<br><br>

app-defaults must be editted - make sure ja_JP.UTF-8 is used.</p>

<p><i>
bsd5# vi /usr/X11R6/lib/X11/app-defaults/Kinput2<br>
...<br>
*XimpProtocol.ForceDefaultServer: true<br>
! X Input Method Protocol<br>
*IMProtocol.locales: eucJP, ja_JP.SJIS, ja_JP.EUC, ja_JP, ja, ja_JP.UTF-8<br>
...<br>
</i></p>
<p>The next script is set up in Xsession and so on.
<blockquote>
 XMODIFIERS="@im=kinput2"<br>
 export XMODIFIERS<br>
 kinput2 -canna -xim &<br>
</blockquote>

<p>Note: For locale information, please see <a href="freebsd_notes.html">freebsd_notes.html</a>.</p>

</body></html>
